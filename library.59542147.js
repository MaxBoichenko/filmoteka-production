!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,o.call(l.exports,l,l.exports),l.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("cqmI4"),o("108Sg"),o("7pHUw");var l=o("5cQgp"),r=o("l75Ri"),a=o("108Sg"),i=(a=o("108Sg"),o("cqmI4"));o("WMajR");const{cardsEl:c,modalFilm:d,closeModalBtn:s,backdrop:u,modalContainer:f,modalFilmContainer:m}=i.refs,g=document.querySelector(".header__watch-btn"),E=document.querySelector(".header__queue-btn");(()=>{let e=JSON.parse(localStorage.getItem(a.FILMOTEKA_KEY_WATCHED))??{};c.innerHTML=(0,l.default)(e)})();function p(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-btn"))&&_()}function _(){d.classList.add("visually-hidden"),u.removeEventListener("click",p),window.removeEventListener("keydown",L)}function L(e){"Escape"===e.code&&_()}(()=>{let e=JSON.parse(localStorage.getItem(a.FILMOTEKA_KEY_QUEUE))??{};c.insertAdjacentHTML("beforeend",(0,l.default)(e))})(),g.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(a.FILMOTEKA_KEY_WATCHED));c.innerHTML=(0,l.default)(e),console.log(e)})),E.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(a.FILMOTEKA_KEY_QUEUE));c.innerHTML=(0,l.default)(e)})),c.addEventListener("click",(function(e){if(!e.target.closest(".gallery__item"))return;!function(e){d.classList.remove("visually-hidden"),u.addEventListener("click",p),window.addEventListener("keydown",L);const t=JSON.parse(localStorage.getItem(a.FILMOTEKA_KEY_WATCHED));t.some((n=>{n.id===Number(e)&&(f.innerHTML=(0,r.default)(n),t.modalFilm=n)}))}(e.target.closest(".gallery__item").id);const t=document.querySelector(".film-vote");t.textContent=Number.parseFloat(t.textContent).toFixed(1);const n=document.querySelector(".film-popularity");n.textContent=Number.parseFloat(n.textContent).toFixed(1);const o=document.querySelector(".film-genre"),l=document.querySelector(".gallery__film-subscription");o.textContent=l.textContent.split(" ",2)})),o("8fald")}();
//# sourceMappingURL=library.59542147.js.map

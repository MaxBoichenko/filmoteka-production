var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("3ILHO"),o("bbmaV"),o("eC6VJ");var a=o("44W7Q"),l=o("70Nf4"),r=o("bbmaV"),i=(r=o("bbmaV"),o("3ILHO"));o("amrNH");const{cardsEl:c,modalFilm:s,closeModalBtn:d,backdrop:u,modalContainer:m,modalFilmContainer:f}=i.refs,L=document.querySelector(".header__watch-btn"),E=document.querySelector(".header__queue-btn");function p(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-btn"))&&b()}function b(){s.classList.add("visually-hidden"),u.removeEventListener("click",p),window.removeEventListener("keydown",v)}function v(e){"Escape"===e.code&&b()}(()=>{let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED))??{};c.innerHTML=(0,a.default)(e),L.classList.add("btn-active")})(),L.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED));c.innerHTML=(0,a.default)(e),console.log(e),L.classList.add("btn-active"),E.classList.remove("btn-active")})),E.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_QUEUE));c.innerHTML=(0,a.default)(e),L.classList.remove("btn-active"),E.classList.add("btn-active")})),c.addEventListener("click",(function(e){if(!e.target.closest(".gallery__item"))return;!function(e){s.classList.remove("visually-hidden"),u.addEventListener("click",p),window.addEventListener("keydown",v);const t=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED)),n=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_QUEUE));t.some((n=>{n.id===Number(e)&&(m.innerHTML=(0,l.default)(n),t.modalFilm=n)})),n.some((t=>{t.id===Number(e)&&(m.innerHTML=(0,l.default)(t),n.modalFilm=t)}))}(e.target.closest(".gallery__item").id);const t=document.querySelector(".film-vote");t.textContent=Number.parseFloat(t.textContent).toFixed(1);const n=document.querySelector(".film-popularity");n.textContent=Number.parseFloat(n.textContent).toFixed(1);const o=document.querySelector(".film-genre"),a=document.querySelector(".gallery__film-subscription");o.textContent=a.textContent.split(" ",2)})),o("96upZ");
//# sourceMappingURL=library.69688676.js.map

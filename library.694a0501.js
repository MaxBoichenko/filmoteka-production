function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in l)return l[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return l[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a("3ILHO"),a("bbmaV"),a("eC6VJ");var o=e(a("amrNH")).template({1:function(e,t,l,n,a){var o,i=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="gallery__item" id="'+c(typeof(o=null!=(o=d(l,"id")||(null!=t?d(t,"id"):t))?o:r)===s?o.call(i,{name:"id",hash:{},data:a,loc:{start:{line:2,column:30},end:{line:2,column:36}}}):o)+'">\n    <div class="gallery__film-image">\n        <img src="https://image.tmdb.org/t/p/w500'+c(typeof(o=null!=(o=d(l,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:r)===s?o.call(i,{name:"poster_path",hash:{},data:a,loc:{start:{line:4,column:49},end:{line:4,column:64}}}):o)+'" loading="lazy" alt="'+c(typeof(o=null!=(o=d(l,"title")||(null!=t?d(t,"title"):t))?o:r)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:4,column:86},end:{line:4,column:95}}}):o)+'"  class="gallery_image" />\n    </div>\n    <div class="gallery__film-info">\n        <p class="gallery__film-name">'+c(typeof(o=null!=(o=d(l,"title")||(null!=t?d(t,"title"):t))?o:r)===s?o.call(i,{name:"title",hash:{},data:a,loc:{start:{line:7,column:38},end:{line:7,column:47}}}):o)+'</p>\n        <p class="gallery__film-subscription">'+c(typeof(o=null!=(o=d(l,"genre_ids")||(null!=t?d(t,"genre_ids"):t))?o:r)===s?o.call(i,{name:"genre_ids",hash:{},data:a,loc:{start:{line:8,column:46},end:{line:8,column:59}}}):o)+" | "+c(typeof(o=null!=(o=d(l,"release_date")||(null!=t?d(t,"release_date"):t))?o:r)===s?o.call(i,{name:"release_date",hash:{},data:a,loc:{start:{line:8,column:62},end:{line:8,column:78}}}):o)+'\n        <span class="gallery_film-vote">'+c(typeof(o=null!=(o=d(l,"vote_average")||(null!=t?d(t,"vote_average"):t))?o:r)===s?o.call(i,{name:"vote_average",hash:{},data:a,loc:{start:{line:9,column:40},end:{line:9,column:56}}}):o)+"</span></p>\n    </div>\n    </div>\n</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,l,n,a){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(l,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:13,column:9}}}))?o:""},useData:!0}),i=a("70Nf4"),r=a("bbmaV"),s=(r=a("bbmaV"),a("3ILHO"));a("amrNH");const{cardsEl:c,modalFilm:d,closeModalBtn:u,backdrop:m,modalContainer:p,modalFilmContainer:f}=s.refs,_=document.querySelector(".header__watch-btn"),g=document.querySelector(".header__queue-btn");function v(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-btn"))&&y()}function y(){d.classList.add("visually-hidden"),m.removeEventListener("click",v),window.removeEventListener("keydown",h)}function h(e){"Escape"===e.code&&y()}(()=>{let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED))??{};c.innerHTML=o(e),_.classList.add("btn-active")})(),_.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED));c.innerHTML=o(e),_.classList.add("btn-active"),g.classList.remove("btn-active")})),g.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_QUEUE));c.innerHTML=o(e),_.classList.remove("btn-active"),g.classList.add("btn-active")})),c.addEventListener("click",(function(e){if(!e.target.closest(".gallery__item"))return;!function(e){d.classList.remove("visually-hidden"),m.addEventListener("click",v),window.addEventListener("keydown",h);const t=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_WATCHED)),l=JSON.parse(localStorage.getItem(r.FILMOTEKA_KEY_QUEUE));t.some((l=>{l.id===Number(e)&&(p.innerHTML=(0,i.default)(l),t.modalFilm=l)})),l.some((t=>{t.id===Number(e)&&(p.innerHTML=(0,i.default)(t),l.modalFilm=t)}))}(e.target.closest(".gallery__item").id);const t=document.querySelector(".film-vote");t.textContent=Number.parseFloat(t.textContent).toFixed(1);const l=document.querySelector(".film-popularity");l.textContent=Number.parseFloat(l.textContent).toFixed(1);const n=document.querySelector(".film-genre"),a=document.querySelector(".gallery__film-subscription");n.textContent=a.textContent.split(" ",2)})),a("96upZ"),a("hUfoy");
//# sourceMappingURL=library.694a0501.js.map

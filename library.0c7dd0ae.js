!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,o.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("cqmI4"),o("108Sg"),o("7pHUw");var l=o("5cQgp"),a=o("l75Ri"),i=o("108Sg"),r=(i=o("108Sg"),o("cqmI4"));o("WMajR");const{cardsEl:c,modalFilm:s,closeModalBtn:d,backdrop:u,modalContainer:m,modalFilmContainer:f}=r.refs,g=document.querySelector(".header__watch-btn"),E=document.querySelector(".header__queue-btn");function p(e){(e.target.classList.contains("backdrop")||e.target.classList.contains("modal__close-btn"))&&L()}function L(){s.classList.add("visually-hidden"),u.removeEventListener("click",p),window.removeEventListener("keydown",v)}function v(e){"Escape"===e.code&&L()}(()=>{let e=JSON.parse(localStorage.getItem(i.FILMOTEKA_KEY_WATCHED))??{};c.innerHTML=(0,l.default)(e),g.classList.add("btn-active")})(),g.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(i.FILMOTEKA_KEY_WATCHED));c.innerHTML=(0,l.default)(e),console.log(e),g.classList.add("btn-active"),E.classList.remove("btn-active")})),E.addEventListener("click",(function(){let e=JSON.parse(localStorage.getItem(i.FILMOTEKA_KEY_QUEUE));c.innerHTML=(0,l.default)(e),g.classList.remove("btn-active"),E.classList.add("btn-active")})),c.addEventListener("click",(function(e){if(!e.target.closest(".gallery__item"))return;!function(e){s.classList.remove("visually-hidden"),u.addEventListener("click",p),window.addEventListener("keydown",v);const t=JSON.parse(localStorage.getItem(i.FILMOTEKA_KEY_WATCHED)),n=JSON.parse(localStorage.getItem(i.FILMOTEKA_KEY_QUEUE));t.some((n=>{n.id===Number(e)&&(m.innerHTML=(0,a.default)(n),t.modalFilm=n)})),n.some((t=>{t.id===Number(e)&&(m.innerHTML=(0,a.default)(t),n.modalFilm=t)}))}(e.target.closest(".gallery__item").id);const t=document.querySelector(".film-vote");t.textContent=Number.parseFloat(t.textContent).toFixed(1);const n=document.querySelector(".film-popularity");n.textContent=Number.parseFloat(n.textContent).toFixed(1);const o=document.querySelector(".film-genre"),l=document.querySelector(".gallery__film-subscription");o.textContent=l.textContent.split(" ",2)})),o("8fald")}();
//# sourceMappingURL=library.0c7dd0ae.js.map
